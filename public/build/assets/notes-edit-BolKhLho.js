document.addEventListener("DOMContentLoaded",function(){console.log("Notes edit script loaded");const o=new Quill("#editor",{theme:"snow",placeholder:"Введите текст заметки...",modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link"],["clean"]]}});console.log("Quill initialized");const n=document.querySelector("#content"),l=n?n.value:"";l&&(o.clipboard.dangerouslyPasteHTML(l),console.log("Initial content set."));const i=document.getElementById("note-form");if(!i){console.error("Note form not found");return}console.log("Note form found"),i.addEventListener("submit",function(r){r.preventDefault(),console.log("Submit event triggered");const e=document.querySelector("#content");if(!e){console.error("Content input not found");return}const t=o.root.innerHTML.trim();console.log("Quill content:",t.substring(0,50)+"..."),e.value=t,(t===""||t==="<p><br></p>")&&(e.value="<p>Пустая заметка</p>"),console.log("Content set to:",e.value.substring(0,50)+"..."),this.submit()})});
